{"ast":null,"code":"import _asyncToGenerator from \"G:\\\\Farsight\\\\Thorsight\\\\Thorsight\\\\ClientApp\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/queryservice\";\nimport * as i2 from \"@angular/material/form-field\";\nimport * as i3 from \"@angular/material/select\";\nimport * as i4 from \"@angular/material/core\";\nimport * as i5 from \"@angular/common\";\n\nfunction OverviewPage_mat_option_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 1);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const position_r4 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", position_r4.poolName);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", position_r4.poolName, \" \");\n  }\n}\n\nfunction OverviewPage_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"div\", 7)(2, \"div\", 8);\n    i0.ɵɵtext(3, \"LEFT ASSET\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 8);\n    i0.ɵɵtext(5, \"RIGHT ASSET\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵstyleMapInterpolate1(\"background-color=\", ctx_r1.getAssetColor(), \"\");\n  }\n}\n\nfunction OverviewPage_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const action_r5 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate6(\" \", action_r5.blockTimestamp, \" \", action_r5.action, \" \", action_r5.poolName, \" \", action_r5.units, \" \", action_r5.pricePerUnit, \" (\", action_r5.units * action_r5.pricePerUnit, \"$)\\n\");\n  }\n}\n\nfunction OverviewPage_div_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const position_r6 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate3(\" \", position_r6.poolName, \" - \", position_r6.currentStakeUnits, \" (\", position_r6.valueUSD, \")\\n\");\n  }\n}\n\nexport class OverviewPage {\n  constructor(queryService) {\n    this.queryService = queryService;\n    this.actions = [];\n    this.openPositions = [];\n    this.loadData();\n  }\n\n  get showMultiple() {\n    return false;\n  }\n\n  get nonRuneAssets() {\n    var assets = new Map();\n    this.openPositions.forEach(x => {\n      var _a;\n\n      return assets.set(x.poolName, x.assetAmount + ((_a = assets.get(x.poolName)) !== null && _a !== void 0 ? _a : 0));\n    });\n    var list = [];\n    assets.forEach((val, key) => list.push({\n      name: key,\n      amount: val\n    }));\n    return list;\n  }\n\n  get runeAsset() {\n    var totalRune = 0;\n    this.openPositions.forEach(x => totalRune += x.runeAmount);\n    return {\n      name: \"RUNE\",\n      amount: totalRune\n    };\n  }\n\n  get totalDeposited() {\n    var totalDeposit = 0;\n    this.actions.filter(x => x.action == \"add_liquidity\").forEach(x => totalDeposit += x.pricePerUnit * x.units);\n    return totalDeposit;\n  }\n\n  get totalWithdrawn() {\n    var totalWithdrawn = 0;\n    this.actions.filter(x => x.action == \"remove_liquidity\").forEach(x => totalWithdrawn += x.pricePerUnit * x.units);\n    return totalWithdrawn;\n  }\n\n  get totalCurrent() {\n    var totalCurrent = 0;\n    this.openPositions.forEach(x => totalCurrent += x.valueUSD);\n    return totalCurrent;\n  }\n\n  loadData() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.queryService.getLiquidityActions(\"thor19td8caxpsnmc9qrh8lvlvp985886kunuw24det\").subscribe(x => {\n        _this.actions = x;\n      });\n\n      _this.queryService.getOpenLiquidityPositions(\"thor19td8caxpsnmc9qrh8lvlvp985886kunuw24det\").subscribe(x => {\n        _this.openPositions = x;\n      });\n    })();\n  }\n\n  getAssetColor(asset) {\n    return \"red\";\n  }\n\n}\n\nOverviewPage.ɵfac = function OverviewPage_Factory(t) {\n  return new (t || OverviewPage)(i0.ɵɵdirectiveInject(i1.QueryService));\n};\n\nOverviewPage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: OverviewPage,\n  selectors: [[\"overview-page\"]],\n  decls: 30,\n  vars: 8,\n  consts: [[\"appearance\", \"fill\"], [3, \"value\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"auto-grid\"], [1, \"statbox\"], [\"class\", \"auto-grid\", 4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [1, \"asset-container\"], [1, \"asset\"]],\n  template: function OverviewPage_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h2\");\n      i0.ɵɵtext(1, \"Stats\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"mat-form-field\", 0)(3, \"mat-label\");\n      i0.ɵɵtext(4, \"Selected Position\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"mat-select\")(6, \"mat-option\", 1);\n      i0.ɵɵtext(7, \" All \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(8, OverviewPage_mat_option_8_Template, 2, 2, \"mat-option\", 2);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(9, \"div\", 3)(10, \"div\", 4)(11, \"h3\");\n      i0.ɵɵtext(12, \"Total Deposited\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(13);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"div\", 4)(15, \"h3\");\n      i0.ɵɵtext(16, \"Total Withdrawn\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(17);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"div\", 4)(19, \"h3\");\n      i0.ɵɵtext(20, \"Current Value\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(21);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(22, OverviewPage_div_22_Template, 6, 3, \"div\", 5);\n      i0.ɵɵelementStart(23, \"h2\");\n      i0.ɵɵtext(24, \"Liquidity Events\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(25, OverviewPage_div_25_Template, 2, 6, \"div\", 6);\n      i0.ɵɵelement(26, \"hr\");\n      i0.ɵɵelementStart(27, \"h2\");\n      i0.ɵɵtext(28, \"Open Positions\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(29, OverviewPage_div_29_Template, 2, 3, \"div\", 6);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"value\", \"all\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.openPositions);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate1(\" \", ctx.totalDeposited, \" USD \");\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate1(\" \", ctx.totalWithdrawn, \" USD \");\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate1(\" \", ctx.totalCurrent, \" USD \");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.showMultiple);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", ctx.actions);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngForOf\", ctx.openPositions);\n    }\n  },\n  directives: [i2.MatFormField, i2.MatLabel, i3.MatSelect, i4.MatOption, i5.NgForOf, i5.NgIf],\n  styles: [\".auto-grid[_ngcontent-%COMP%] {\\n  padding: 20px;\\n  display: grid;\\n  grid-gap: 20px;\\n  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\\n}\\n\\n.stat-container[_ngcontent-%COMP%] {\\n  padding: 20px;\\n}\\n\\n.statbox[_ngcontent-%COMP%] {\\n  border-radius: 10px;\\n  border: 2px solid #A79F9F;\\n  margin: 15px 15px 0px 15px;\\n  padding: 10px;\\n}\\n\\n.asset-container[_ngcontent-%COMP%] {\\n  border-radius: 10px;\\n  border: 2px solid #A79F9F;\\n  margin: 15px;\\n  display: inline-flex;\\n  justify-content: space-between;\\n}\\n\\n.asset[_ngcontent-%COMP%] {\\n  border-radius: 8px;\\n  width: 50%;\\n  height: 100%;\\n  padding: 10px;\\n  text-align: center;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm92ZXJ2aWV3LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtFQUNFLGFBQUE7RUFDQSxhQUFBO0VBQ0EsY0FBQTtFQUNBLDJEQUFBO0FBQUY7O0FBR0E7RUFDRSxhQUFBO0FBQUY7O0FBR0E7RUFDRSxtQkFBQTtFQUNBLHlCQUFBO0VBQ0EsMEJBQUE7RUFDQSxhQUFBO0FBQUY7O0FBR0E7RUFDRSxtQkFBQTtFQUNBLHlCQUFBO0VBQ0EsWUFBQTtFQUVBLG9CQUFBO0VBQ0EsOEJBQUE7QUFERjs7QUFLQTtFQUNFLGtCQUFBO0VBQ0EsVUFBQTtFQUNBLFlBQUE7RUFDQSxhQUFBO0VBQ0Esa0JBQUE7QUFGRiIsImZpbGUiOiJvdmVydmlldy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuLmF1dG8tZ3JpZCB7XHJcbiAgcGFkZGluZzogMjBweDtcclxuICBkaXNwbGF5OiBncmlkO1xyXG4gIGdyaWQtZ2FwOiAyMHB4O1xyXG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZml0LCBtaW5tYXgoMzAwcHgsIDFmcikpO1xyXG59XHJcblxyXG4uc3RhdC1jb250YWluZXIge1xyXG4gIHBhZGRpbmc6IDIwcHg7XHJcbn1cclxuXHJcbi5zdGF0Ym94IHtcclxuICBib3JkZXItcmFkaXVzOiAxMHB4O1xyXG4gIGJvcmRlcjogMnB4IHNvbGlkICNBNzlGOUY7XHJcbiAgbWFyZ2luOiAxNXB4IDE1cHggMHB4IDE1cHg7XHJcbiAgcGFkZGluZzogMTBweDtcclxufVxyXG5cclxuLmFzc2V0LWNvbnRhaW5lciB7XHJcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcclxuICBib3JkZXI6IDJweCBzb2xpZCAjQTc5RjlGO1xyXG4gIG1hcmdpbjogMTVweDtcclxuXHJcbiAgZGlzcGxheTogaW5saW5lLWZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG59XHJcblxyXG5cclxuLmFzc2V0IHtcclxuICBib3JkZXItcmFkaXVzOiA4cHg7XHJcbiAgd2lkdGg6IDUwJTtcclxuICBoZWlnaHQ6IDEwMCU7XHJcbiAgcGFkZGluZzogMTBweDtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn1cclxuIl19 */\"]\n});","map":{"version":3,"sources":["G:/Farsight/Thorsight/Thorsight/ClientApp/src/app/core/pages/overview/overview.page.ts"],"names":["i0","i1","i2","i3","i4","i5","OverviewPage_mat_option_8_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","position_r4","$implicit","ɵɵproperty","poolName","ɵɵadvance","ɵɵtextInterpolate1","OverviewPage_div_22_Template","ctx_r1","ɵɵnextContext","ɵɵstyleMapInterpolate1","getAssetColor","OverviewPage_div_25_Template","action_r5","ɵɵtextInterpolate6","blockTimestamp","action","units","pricePerUnit","OverviewPage_div_29_Template","position_r6","ɵɵtextInterpolate3","currentStakeUnits","valueUSD","OverviewPage","constructor","queryService","actions","openPositions","loadData","showMultiple","nonRuneAssets","assets","Map","forEach","x","_a","set","assetAmount","get","list","val","key","push","name","amount","runeAsset","totalRune","runeAmount","totalDeposited","totalDeposit","filter","totalWithdrawn","totalCurrent","getLiquidityActions","subscribe","getOpenLiquidityPositions","asset","ɵfac","OverviewPage_Factory","t","ɵɵdirectiveInject","QueryService","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","OverviewPage_Template","ɵɵtemplate","ɵɵelement","directives","MatFormField","MatLabel","MatSelect","MatOption","NgForOf","NgIf","styles"],"mappings":"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","sourcesContent":["import * as i0 from \"@angular/core\";\r\nimport * as i1 from \"../../services/queryservice\";\r\nimport * as i2 from \"@angular/material/form-field\";\r\nimport * as i3 from \"@angular/material/select\";\r\nimport * as i4 from \"@angular/material/core\";\r\nimport * as i5 from \"@angular/common\";\r\nfunction OverviewPage_mat_option_8_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"mat-option\", 1);\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const position_r4 = ctx.$implicit;\r\n    i0.ɵɵproperty(\"value\", position_r4.poolName);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate1(\" \", position_r4.poolName, \" \");\r\n} }\r\nfunction OverviewPage_div_22_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"div\", 7)(2, \"div\", 8);\r\n    i0.ɵɵtext(3, \"LEFT ASSET\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(4, \"div\", 8);\r\n    i0.ɵɵtext(5, \"RIGHT ASSET\");\r\n    i0.ɵɵelementEnd()()();\r\n} if (rf & 2) {\r\n    const ctx_r1 = i0.ɵɵnextContext();\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵstyleMapInterpolate1(\"background-color=\", ctx_r1.getAssetColor(), \"\");\r\n} }\r\nfunction OverviewPage_div_25_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\");\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const action_r5 = ctx.$implicit;\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate6(\" \", action_r5.blockTimestamp, \" \", action_r5.action, \" \", action_r5.poolName, \" \", action_r5.units, \" \", action_r5.pricePerUnit, \" (\", action_r5.units * action_r5.pricePerUnit, \"$)\\n\");\r\n} }\r\nfunction OverviewPage_div_29_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\");\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const position_r6 = ctx.$implicit;\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate3(\" \", position_r6.poolName, \" - \", position_r6.currentStakeUnits, \" (\", position_r6.valueUSD, \")\\n\");\r\n} }\r\nexport class OverviewPage {\r\n    constructor(queryService) {\r\n        this.queryService = queryService;\r\n        this.actions = [];\r\n        this.openPositions = [];\r\n        this.loadData();\r\n    }\r\n    get showMultiple() {\r\n        return false;\r\n    }\r\n    get nonRuneAssets() {\r\n        var assets = new Map();\r\n        this.openPositions.forEach(x => { var _a; return assets.set(x.poolName, x.assetAmount + ((_a = assets.get(x.poolName)) !== null && _a !== void 0 ? _a : 0)); });\r\n        var list = [];\r\n        assets.forEach((val, key) => list.push({ name: key, amount: val }));\r\n        return list;\r\n    }\r\n    get runeAsset() {\r\n        var totalRune = 0;\r\n        this.openPositions.forEach(x => totalRune += x.runeAmount);\r\n        return { name: \"RUNE\", amount: totalRune };\r\n    }\r\n    get totalDeposited() {\r\n        var totalDeposit = 0;\r\n        this.actions.filter(x => x.action == \"add_liquidity\").forEach(x => totalDeposit += x.pricePerUnit * x.units);\r\n        return totalDeposit;\r\n    }\r\n    get totalWithdrawn() {\r\n        var totalWithdrawn = 0;\r\n        this.actions.filter(x => x.action == \"remove_liquidity\").forEach(x => totalWithdrawn += x.pricePerUnit * x.units);\r\n        return totalWithdrawn;\r\n    }\r\n    get totalCurrent() {\r\n        var totalCurrent = 0;\r\n        this.openPositions.forEach(x => totalCurrent += x.valueUSD);\r\n        return totalCurrent;\r\n    }\r\n    async loadData() {\r\n        this.queryService.getLiquidityActions(\"thor19td8caxpsnmc9qrh8lvlvp985886kunuw24det\")\r\n            .subscribe(x => {\r\n            this.actions = x;\r\n        });\r\n        this.queryService.getOpenLiquidityPositions(\"thor19td8caxpsnmc9qrh8lvlvp985886kunuw24det\")\r\n            .subscribe(x => {\r\n            this.openPositions = x;\r\n        });\r\n    }\r\n    getAssetColor(asset) {\r\n        return \"red\";\r\n    }\r\n}\r\nOverviewPage.ɵfac = function OverviewPage_Factory(t) { return new (t || OverviewPage)(i0.ɵɵdirectiveInject(i1.QueryService)); };\r\nOverviewPage.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: OverviewPage, selectors: [[\"overview-page\"]], decls: 30, vars: 8, consts: [[\"appearance\", \"fill\"], [3, \"value\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"auto-grid\"], [1, \"statbox\"], [\"class\", \"auto-grid\", 4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [1, \"asset-container\"], [1, \"asset\"]], template: function OverviewPage_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"h2\");\r\n        i0.ɵɵtext(1, \"Stats\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(2, \"mat-form-field\", 0)(3, \"mat-label\");\r\n        i0.ɵɵtext(4, \"Selected Position\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(5, \"mat-select\")(6, \"mat-option\", 1);\r\n        i0.ɵɵtext(7, \" All \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtemplate(8, OverviewPage_mat_option_8_Template, 2, 2, \"mat-option\", 2);\r\n        i0.ɵɵelementEnd()();\r\n        i0.ɵɵelementStart(9, \"div\", 3)(10, \"div\", 4)(11, \"h3\");\r\n        i0.ɵɵtext(12, \"Total Deposited\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtext(13);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(14, \"div\", 4)(15, \"h3\");\r\n        i0.ɵɵtext(16, \"Total Withdrawn\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtext(17);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(18, \"div\", 4)(19, \"h3\");\r\n        i0.ɵɵtext(20, \"Current Value\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtext(21);\r\n        i0.ɵɵelementEnd()();\r\n        i0.ɵɵtemplate(22, OverviewPage_div_22_Template, 6, 3, \"div\", 5);\r\n        i0.ɵɵelementStart(23, \"h2\");\r\n        i0.ɵɵtext(24, \"Liquidity Events\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtemplate(25, OverviewPage_div_25_Template, 2, 6, \"div\", 6);\r\n        i0.ɵɵelement(26, \"hr\");\r\n        i0.ɵɵelementStart(27, \"h2\");\r\n        i0.ɵɵtext(28, \"Open Positions\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtemplate(29, OverviewPage_div_29_Template, 2, 3, \"div\", 6);\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(6);\r\n        i0.ɵɵproperty(\"value\", \"all\");\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵproperty(\"ngForOf\", ctx.openPositions);\r\n        i0.ɵɵadvance(5);\r\n        i0.ɵɵtextInterpolate1(\" \", ctx.totalDeposited, \" USD \");\r\n        i0.ɵɵadvance(4);\r\n        i0.ɵɵtextInterpolate1(\" \", ctx.totalWithdrawn, \" USD \");\r\n        i0.ɵɵadvance(4);\r\n        i0.ɵɵtextInterpolate1(\" \", ctx.totalCurrent, \" USD \");\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"ngIf\", !ctx.showMultiple);\r\n        i0.ɵɵadvance(3);\r\n        i0.ɵɵproperty(\"ngForOf\", ctx.actions);\r\n        i0.ɵɵadvance(4);\r\n        i0.ɵɵproperty(\"ngForOf\", ctx.openPositions);\r\n    } }, directives: [i2.MatFormField, i2.MatLabel, i3.MatSelect, i4.MatOption, i5.NgForOf, i5.NgIf], styles: [\".auto-grid[_ngcontent-%COMP%] {\\n  padding: 20px;\\n  display: grid;\\n  grid-gap: 20px;\\n  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\\n}\\n\\n.stat-container[_ngcontent-%COMP%] {\\n  padding: 20px;\\n}\\n\\n.statbox[_ngcontent-%COMP%] {\\n  border-radius: 10px;\\n  border: 2px solid #A79F9F;\\n  margin: 15px 15px 0px 15px;\\n  padding: 10px;\\n}\\n\\n.asset-container[_ngcontent-%COMP%] {\\n  border-radius: 10px;\\n  border: 2px solid #A79F9F;\\n  margin: 15px;\\n  display: inline-flex;\\n  justify-content: space-between;\\n}\\n\\n.asset[_ngcontent-%COMP%] {\\n  border-radius: 8px;\\n  width: 50%;\\n  height: 100%;\\n  padding: 10px;\\n  text-align: center;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm92ZXJ2aWV3LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtFQUNFLGFBQUE7RUFDQSxhQUFBO0VBQ0EsY0FBQTtFQUNBLDJEQUFBO0FBQUY7O0FBR0E7RUFDRSxhQUFBO0FBQUY7O0FBR0E7RUFDRSxtQkFBQTtFQUNBLHlCQUFBO0VBQ0EsMEJBQUE7RUFDQSxhQUFBO0FBQUY7O0FBR0E7RUFDRSxtQkFBQTtFQUNBLHlCQUFBO0VBQ0EsWUFBQTtFQUVBLG9CQUFBO0VBQ0EsOEJBQUE7QUFERjs7QUFLQTtFQUNFLGtCQUFBO0VBQ0EsVUFBQTtFQUNBLFlBQUE7RUFDQSxhQUFBO0VBQ0Esa0JBQUE7QUFGRiIsImZpbGUiOiJvdmVydmlldy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuLmF1dG8tZ3JpZCB7XHJcbiAgcGFkZGluZzogMjBweDtcclxuICBkaXNwbGF5OiBncmlkO1xyXG4gIGdyaWQtZ2FwOiAyMHB4O1xyXG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZml0LCBtaW5tYXgoMzAwcHgsIDFmcikpO1xyXG59XHJcblxyXG4uc3RhdC1jb250YWluZXIge1xyXG4gIHBhZGRpbmc6IDIwcHg7XHJcbn1cclxuXHJcbi5zdGF0Ym94IHtcclxuICBib3JkZXItcmFkaXVzOiAxMHB4O1xyXG4gIGJvcmRlcjogMnB4IHNvbGlkICNBNzlGOUY7XHJcbiAgbWFyZ2luOiAxNXB4IDE1cHggMHB4IDE1cHg7XHJcbiAgcGFkZGluZzogMTBweDtcclxufVxyXG5cclxuLmFzc2V0LWNvbnRhaW5lciB7XHJcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcclxuICBib3JkZXI6IDJweCBzb2xpZCAjQTc5RjlGO1xyXG4gIG1hcmdpbjogMTVweDtcclxuXHJcbiAgZGlzcGxheTogaW5saW5lLWZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG59XHJcblxyXG5cclxuLmFzc2V0IHtcclxuICBib3JkZXItcmFkaXVzOiA4cHg7XHJcbiAgd2lkdGg6IDUwJTtcclxuICBoZWlnaHQ6IDEwMCU7XHJcbiAgcGFkZGluZzogMTBweDtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn1cclxuIl19 */\"] });\r\n"]},"metadata":{},"sourceType":"module"}